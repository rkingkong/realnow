/* â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   mobile-fix.css â€” RealNow v5.0.2 Mobile Layout Fix
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
   Import LAST in App.js:  import './mobile-fix.css';
   
   PROBLEMS FIXED:
     1. Map style switcher (ðŸŒ‘ðŸ›°ï¸ðŸ”ï¸â˜€ï¸) partially clipped on right edge
     2. LiveFeed minimized pill (ðŸ“¡ LIVE) overlapping m-bottombar
     3. Bottom pills overflowing on narrow screens
     4. Inconsistent z-index stacking on mobile
     5. Safe area inset gaps on notched phones
   
   LAYOUT STRATEGY (bottom â†’ up on the right side):
     Layer 1 â€” m-bottombar        z:1060  bottom:12px  (full width)
     Layer 2 â€” livefeed-pill       z:1065  bottom:12px  (right side of bottombar)
     Layer 3 â€” map-style-switcher  z:1040  right:8px    (vertically centered)
   â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• */


/* =====================================================================
   MOBILE â‰¤ 640px
   ===================================================================== */
@media (max-width: 640px) {

  /* â”€â”€â”€ MAP STYLE SWITCHER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     Move to right edge, vertically centered so it doesn't collide with
     the top search bar OR the bottom pills. 8px inset avoids clipping. */
  .map-style-switcher {
    position: fixed !important;
    bottom: auto !important;
    top: 50% !important;
    right: 8px !important;
    left: auto !important;
    transform: translateY(-50%) !important;
    z-index: 1040 !important;
    display: flex !important;
    flex-direction: column !important;
    gap: 2px !important;
    padding: 3px !important;
    border-radius: 10px !important;
    background: rgba(10, 10, 18, 0.88) !important;
    backdrop-filter: blur(12px) !important;
    -webkit-backdrop-filter: blur(12px) !important;
    border: 1px solid rgba(255, 255, 255, 0.12) !important;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5) !important;
  }

  .map-style-btn {
    padding: 6px 8px !important;
    font-size: 16px !important;
    border-radius: 7px !important;
    min-width: 34px !important;
    min-height: 34px !important;
    display: flex !important;
    align-items: center !important;
    justify-content: center !important;
    -webkit-tap-highlight-color: transparent;
  }

  .map-style-btn:active {
    transform: scale(0.92);
  }

  .map-style-btn.active {
    background: rgba(0, 255, 136, 0.18) !important;
    box-shadow: 0 0 10px rgba(0, 255, 136, 0.12) !important;
  }


  /* â”€â”€â”€ LIVEFEED MINIMIZED PILL â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     Sits at bottom-right. Give it a max-width so it can't push past
     50% of the screen and collide with the left status pill.         */
  .livefeed-minimized-pill {
    position: fixed !important;
    right: 12px !important;
    left: auto !important;
    top: auto !important;
    bottom: 12px !important;
    transform: none !important;
    z-index: 1065 !important;
    padding: 8px 14px !important;
    border-radius: 40px !important;
    font-size: 11px !important;
    max-width: calc(50vw - 16px) !important;
    box-sizing: border-box !important;
  }


  /* â”€â”€â”€ BOTTOM STATUS BAR â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     Full-width flex row. Left pill (status) and right area (livefeed)
     each constrained to ~50% so they never overlap.                  */
  .m-bottombar {
    position: fixed !important;
    bottom: 12px !important;
    left: 12px !important;
    right: 12px !important;
    z-index: 1060 !important;
    display: flex !important;
    justify-content: space-between !important;
    align-items: center !important;
    pointer-events: none !important;
    gap: 8px !important;
  }

  .m-bottombar > * {
    pointer-events: auto !important;
  }

  /* Left status pill â€” constrain so it doesn't run under the LIVE pill */
  .m-status-pill {
    max-width: calc(50vw - 16px) !important;
    overflow: hidden !important;
    flex-shrink: 1 !important;
    box-sizing: border-box !important;
  }

  /* Events pill (if rendered) â€” same constraint on the right */
  .m-events-pill {
    max-width: calc(50vw - 16px) !important;
    flex-shrink: 1 !important;
    box-sizing: border-box !important;
  }

  /* Status text truncation */
  .m-status-label {
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    max-width: 60px !important;
  }


  /* â”€â”€â”€ LEAFLET ATTRIBUTION â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     Prevent it from interfering with bottom controls.               */
  .leaflet-control-attribution {
    margin-bottom: 0 !important;
    font-size: 8px !important;
    max-width: 45vw !important;
    overflow: hidden !important;
    text-overflow: ellipsis !important;
    white-space: nowrap !important;
    pointer-events: none !important;
  }


  /* â”€â”€â”€ POPUP Z-INDEX â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
     Ensure map popups stay above the bottom bar.                     */
  .leaflet-popup {
    z-index: 1100 !important;
  }
}


/* =====================================================================
   SAFE AREA INSETS â€” iPhone X+, Pixel, etc.
   ===================================================================== */
@supports (padding-bottom: env(safe-area-inset-bottom)) {
  @media (max-width: 640px) {
    .m-bottombar {
      bottom: calc(12px + env(safe-area-inset-bottom)) !important;
    }

    .livefeed-minimized-pill {
      bottom: calc(12px + env(safe-area-inset-bottom)) !important;
    }

    .m-topbar {
      padding-top: calc(10px + env(safe-area-inset-top)) !important;
    }
  }
}


/* =====================================================================
   VERY SMALL PHONES (â‰¤ 380px)
   ===================================================================== */
@media (max-width: 380px) {

  .map-style-switcher {
    right: 5px !important;
    padding: 2px !important;
    gap: 1px !important;
  }

  .map-style-btn {
    padding: 4px 6px !important;
    font-size: 14px !important;
    min-width: 28px !important;
    min-height: 28px !important;
  }

  .m-bottombar {
    left: 8px !important;
    right: 8px !important;
    bottom: 8px !important;
    gap: 6px !important;
  }

  .livefeed-minimized-pill {
    right: 8px !important;
    bottom: 8px !important;
    padding: 6px 10px !important;
    font-size: 10px !important;
  }

  .m-status-pill {
    padding: 6px 10px !important;
    font-size: 10px !important;
    gap: 5px !important;
  }

  .m-status-label {
    max-width: 40px !important;
  }
}


/* =====================================================================
   LANDSCAPE MOBILE
   ===================================================================== */
@media (max-height: 500px) and (max-width: 900px) {

  .map-style-switcher {
    top: 50% !important;
    transform: translateY(-50%) !important;
    right: 6px !important;
    bottom: auto !important;
  }

  .livefeed-minimized-pill {
    bottom: 8px !important;
    right: 8px !important;
  }

  .m-bottombar {
    bottom: 8px !important;
    left: 8px !important;
    right: 8px !important;
  }
}