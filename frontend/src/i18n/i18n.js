// ============================================================================
// i18n.js â€” v5.0.1 FIXED
// Drop into: /var/www/realnow/frontend/src/i18n/i18n.js
// ============================================================================
//
// FIXES:
//   1. Added missing translation keys used by PreferencesPanel
//      (mapStyleTitle, alertsTitle, browserNotifications, alertSounds,
//       clearWatchArea, noWatchArea, emailDigest, emailDigestDesc,
//       saveEmail, frequency, off, daily, weekly)
//   2. All 7 languages updated with new keys
//   3. Context provider unchanged â€” backward compatible
// ============================================================================

import React, { createContext, useContext, useMemo, useCallback } from 'react';

// â”€â”€ Available Languages â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

export const LANGUAGES = {
  en: { label: 'English', flag: 'ðŸ‡¬ðŸ‡§', dir: 'ltr' },
  es: { label: 'EspaÃ±ol', flag: 'ðŸ‡ªðŸ‡¸', dir: 'ltr' },
  fr: { label: 'FranÃ§ais', flag: 'ðŸ‡«ðŸ‡·', dir: 'ltr' },
  pt: { label: 'PortuguÃªs', flag: 'ðŸ‡§ðŸ‡·', dir: 'ltr' },
  ar: { label: 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©', flag: 'ðŸ‡¸ðŸ‡¦', dir: 'rtl' },
  zh: { label: 'ä¸­æ–‡', flag: 'ðŸ‡¨ðŸ‡³', dir: 'ltr' },
  hi: { label: 'à¤¹à¤¿à¤¨à¥à¤¦à¥€', flag: 'ðŸ‡®ðŸ‡³', dir: 'ltr' },
};

// â”€â”€ Translation Strings â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const TRANSLATIONS = {
  en: {
    // General
    loading: 'Loading Real-Time Disaster Data...',
    connected: 'Connected',
    disconnected: 'Disconnected',
    live: 'LIVE',
    offline: 'OFFLINE',
    close: 'Close',
    back: 'Back',
    search: 'Search',
    share: 'Share',
    settings: 'Settings',
    analytics: 'Analytics',
    
    // Disaster types
    earthquakes: 'Earthquakes',
    wildfires: 'Wildfires',
    floods: 'Floods',
    cyclones: 'Cyclones',
    volcanoes: 'Volcanoes',
    droughts: 'Droughts',
    landslides: 'Landslides',
    tsunamis: 'Tsunamis',
    spaceweather: 'Space Weather',
    fires: 'Fire Hotspots',
    weather: 'Weather Alerts',
    
    // Severity
    critical: 'CRITICAL',
    severe: 'SEVERE',
    moderate: 'MODERATE',
    minor: 'MINOR',
    active: 'ACTIVE',
    ended: 'ENDED',
    contained: 'CONTAINED',
    activelyBurning: 'ACTIVELY BURNING',
    justContained: 'JUST CONTAINED',
    
    // Stats
    totalEvents: 'Total Events',
    activeEvents: 'Active Events',
    endedEvents: 'Ended Events',
    mostAffected: 'Most Affected Regions',
    severityDist: 'Severity Distribution',
    sourceHealth: 'Data Source Health',
    
    // LiveFeed
    liveFeed: 'Live Feed',
    newEvents: 'new events',
    noEvents: 'Waiting for events...',
    
    // Map & Details
    zoomIn: 'Zoom in for details',
    searchLocation: 'Search location...',
    viewDetails: 'View Details',
    magnitude: 'Magnitude',
    depth: 'Depth',
    nearby: 'Nearby',
    kmAway: 'km away',

    // Settings panel
    mapStyleTitle: 'Map Style',
    darkMode: 'Dark',
    satellite: 'Satellite',
    terrain: 'Terrain',
    light: 'Light',
    language: 'Language',
    sound: 'Sound',
    alertsTitle: 'Alerts & Notifications',
    browserNotifications: 'Browser Notifications',
    alertSounds: 'Alert Sounds',
    watchArea: 'Watch Area',
    clearWatchArea: 'Clear Watch Area',
    noWatchArea: 'No watch area set. Click the map with the watch tool to set one.',
    emailDigest: 'Email Digest',
    emailDigestDesc: 'Get a summary of events in your watch area delivered to your inbox.',
    saveEmail: 'Save Email',
    frequency: 'Frequency',
    off: 'Off',
    daily: 'Daily',
    weekly: 'Weekly',

    // Time
    justNow: 'just now',
    secondsAgo: '{n}s ago',
    minutesAgo: '{n}m ago',
    hoursAgo: '{n}h ago',
    daysAgo: '{n}d ago',
    day: 'day',
  },
  
  es: {
    loading: 'Cargando datos en tiempo real...',
    connected: 'Conectado',
    disconnected: 'Desconectado',
    live: 'EN VIVO',
    offline: 'SIN CONEXIÃ“N',
    close: 'Cerrar',
    back: 'Volver',
    search: 'Buscar',
    share: 'Compartir',
    settings: 'ConfiguraciÃ³n',
    analytics: 'AnÃ¡lisis',
    earthquakes: 'Terremotos',
    wildfires: 'Incendios',
    floods: 'Inundaciones',
    cyclones: 'Ciclones',
    volcanoes: 'Volcanes',
    droughts: 'SequÃ­as',
    landslides: 'Deslizamientos',
    tsunamis: 'Tsunamis',
    spaceweather: 'Clima Espacial',
    fires: 'Puntos de Calor',
    weather: 'Alertas MeteorolÃ³gicas',
    critical: 'CRÃTICO',
    severe: 'SEVERO',
    moderate: 'MODERADO',
    minor: 'MENOR',
    active: 'ACTIVO',
    ended: 'FINALIZADO',
    contained: 'CONTENIDO',
    activelyBurning: 'EN LLAMAS',
    justContained: 'RECIÃ‰N CONTENIDO',
    totalEvents: 'Total de Eventos',
    activeEvents: 'Eventos Activos',
    endedEvents: 'Eventos Finalizados',
    mostAffected: 'Regiones mÃ¡s Afectadas',
    severityDist: 'DistribuciÃ³n de Severidad',
    sourceHealth: 'Estado de Fuentes',
    liveFeed: 'En Vivo',
    newEvents: 'nuevos eventos',
    noEvents: 'Esperando eventos...',
    viewDetails: 'Ver Detalles',
    magnitude: 'Magnitud',
    depth: 'Profundidad',
    nearby: 'Cercano',
    kmAway: 'km',
    mapStyleTitle: 'Estilo del Mapa',
    darkMode: 'Oscuro',
    satellite: 'SatÃ©lite',
    terrain: 'Terreno',
    light: 'Claro',
    language: 'Idioma',
    sound: 'Sonido',
    alertsTitle: 'Alertas y Notificaciones',
    browserNotifications: 'Notificaciones del Navegador',
    alertSounds: 'Sonidos de Alerta',
    watchArea: 'Zona de Vigilancia',
    clearWatchArea: 'Borrar Zona de Vigilancia',
    noWatchArea: 'Sin zona de vigilancia. Haz clic en el mapa con la herramienta de vigilancia.',
    emailDigest: 'Resumen por Email',
    emailDigestDesc: 'Recibe un resumen de eventos en tu zona de vigilancia.',
    saveEmail: 'Guardar Email',
    frequency: 'Frecuencia',
    off: 'Apagado',
    daily: 'Diario',
    weekly: 'Semanal',
    justNow: 'ahora',
    secondsAgo: 'hace {n}s',
    minutesAgo: 'hace {n}m',
    hoursAgo: 'hace {n}h',
    daysAgo: 'hace {n}d',
    day: 'dÃ­a',
  },

  fr: {
    loading: 'Chargement des donnÃ©es en temps rÃ©el...',
    connected: 'ConnectÃ©',
    disconnected: 'DÃ©connectÃ©',
    live: 'EN DIRECT',
    offline: 'HORS LIGNE',
    close: 'Fermer',
    back: 'Retour',
    search: 'Rechercher',
    share: 'Partager',
    settings: 'ParamÃ¨tres',
    analytics: 'Analyses',
    earthquakes: 'SÃ©ismes',
    wildfires: 'Feux de forÃªt',
    floods: 'Inondations',
    cyclones: 'Cyclones',
    volcanoes: 'Volcans',
    droughts: 'SÃ©cheresses',
    landslides: 'Glissements',
    tsunamis: 'Tsunamis',
    spaceweather: 'MÃ©tÃ©o Spatiale',
    fires: 'Points chauds',
    weather: 'Alertes MÃ©tÃ©o',
    critical: 'CRITIQUE',
    severe: 'SÃ‰VÃˆRE',
    moderate: 'MODÃ‰RÃ‰',
    minor: 'MINEUR',
    active: 'ACTIF',
    ended: 'TERMINÃ‰',
    contained: 'CONTENU',
    activelyBurning: 'EN FEU',
    justContained: 'VIENT D\'ÃŠTRE CONTENU',
    totalEvents: 'Total des Ã‰vÃ©nements',
    activeEvents: 'Ã‰vÃ©nements Actifs',
    endedEvents: 'Ã‰vÃ©nements TerminÃ©s',
    mostAffected: 'RÃ©gions les plus TouchÃ©es',
    severityDist: 'Distribution de SÃ©vÃ©ritÃ©',
    sourceHealth: 'Ã‰tat des Sources',
    liveFeed: 'Flux en Direct',
    newEvents: 'nouveaux Ã©vÃ©nements',
    noEvents: 'En attente d\'Ã©vÃ©nements...',
    viewDetails: 'Voir les DÃ©tails',
    magnitude: 'Magnitude',
    depth: 'Profondeur',
    nearby: 'Ã€ proximitÃ©',
    kmAway: 'km',
    mapStyleTitle: 'Style de Carte',
    darkMode: 'Sombre',
    satellite: 'Satellite',
    terrain: 'Terrain',
    light: 'Clair',
    language: 'Langue',
    sound: 'Son',
    alertsTitle: 'Alertes et Notifications',
    browserNotifications: 'Notifications du Navigateur',
    alertSounds: 'Sons d\'Alerte',
    watchArea: 'Zone de Surveillance',
    clearWatchArea: 'Effacer la Zone',
    noWatchArea: 'Aucune zone dÃ©finie. Cliquez sur la carte avec l\'outil de surveillance.',
    emailDigest: 'RÃ©sumÃ© par Email',
    emailDigestDesc: 'Recevez un rÃ©sumÃ© des Ã©vÃ©nements dans votre zone de surveillance.',
    saveEmail: 'Enregistrer l\'Email',
    frequency: 'FrÃ©quence',
    off: 'DÃ©sactivÃ©',
    daily: 'Quotidien',
    weekly: 'Hebdomadaire',
    justNow: 'Ã  l\'instant',
    secondsAgo: 'il y a {n}s',
    minutesAgo: 'il y a {n}m',
    hoursAgo: 'il y a {n}h',
    daysAgo: 'il y a {n}j',
    day: 'jour',
  },

  pt: {
    loading: 'Carregando dados em tempo real...',
    connected: 'Conectado',
    disconnected: 'Desconectado',
    live: 'AO VIVO',
    offline: 'OFFLINE',
    close: 'Fechar',
    back: 'Voltar',
    search: 'Buscar',
    share: 'Compartilhar',
    settings: 'ConfiguraÃ§Ãµes',
    analytics: 'AnÃ¡lises',
    earthquakes: 'Terremotos',
    wildfires: 'IncÃªndios',
    floods: 'Enchentes',
    cyclones: 'Ciclones',
    volcanoes: 'VulcÃµes',
    droughts: 'Secas',
    landslides: 'Deslizamentos',
    tsunamis: 'Tsunamis',
    spaceweather: 'Clima Espacial',
    fires: 'Focos de Calor',
    weather: 'Alertas MeteorolÃ³gicos',
    critical: 'CRÃTICO',
    severe: 'SEVERO',
    moderate: 'MODERADO',
    minor: 'MENOR',
    active: 'ATIVO',
    ended: 'ENCERRADO',
    contained: 'CONTIDO',
    activelyBurning: 'EM CHAMAS',
    justContained: 'RECÃ‰M-CONTIDO',
    totalEvents: 'Total de Eventos',
    activeEvents: 'Eventos Ativos',
    endedEvents: 'Eventos Encerrados',
    mostAffected: 'RegiÃµes mais Afetadas',
    severityDist: 'DistribuiÃ§Ã£o de Severidade',
    sourceHealth: 'SaÃºde das Fontes',
    liveFeed: 'Feed ao Vivo',
    newEvents: 'novos eventos',
    noEvents: 'Aguardando eventos...',
    viewDetails: 'Ver Detalhes',
    magnitude: 'Magnitude',
    depth: 'Profundidade',
    nearby: 'PrÃ³ximo',
    kmAway: 'km',
    mapStyleTitle: 'Estilo do Mapa',
    darkMode: 'Escuro',
    satellite: 'SatÃ©lite',
    terrain: 'Terreno',
    light: 'Claro',
    language: 'Idioma',
    sound: 'Som',
    alertsTitle: 'Alertas e NotificaÃ§Ãµes',
    browserNotifications: 'NotificaÃ§Ãµes do Navegador',
    alertSounds: 'Sons de Alerta',
    watchArea: 'Ãrea de VigilÃ¢ncia',
    clearWatchArea: 'Limpar Ãrea',
    noWatchArea: 'Nenhuma Ã¡rea definida. Clique no mapa com a ferramenta de vigilÃ¢ncia.',
    emailDigest: 'Resumo por Email',
    emailDigestDesc: 'Receba um resumo dos eventos na sua Ã¡rea de vigilÃ¢ncia.',
    saveEmail: 'Salvar Email',
    frequency: 'FrequÃªncia',
    off: 'Desligado',
    daily: 'DiÃ¡rio',
    weekly: 'Semanal',
    justNow: 'agora',
    secondsAgo: '{n}s atrÃ¡s',
    minutesAgo: '{n}m atrÃ¡s',
    hoursAgo: '{n}h atrÃ¡s',
    daysAgo: '{n}d atrÃ¡s',
    day: 'dia',
  },

  ar: {
    loading: '...Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙƒÙˆØ§Ø±Ø«',
    connected: 'Ù…ØªØµÙ„',
    disconnected: 'ØºÙŠØ± Ù…ØªØµÙ„',
    live: 'Ù…Ø¨Ø§Ø´Ø±',
    offline: 'ØºÙŠØ± Ù…ØªØµÙ„',
    close: 'Ø¥ØºÙ„Ø§Ù‚',
    back: 'Ø±Ø¬ÙˆØ¹',
    search: 'Ø¨Ø­Ø«',
    share: 'Ù…Ø´Ø§Ø±ÙƒØ©',
    settings: 'Ø§Ù„Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª',
    analytics: 'Ø§Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª',
    earthquakes: 'Ø§Ù„Ø²Ù„Ø§Ø²Ù„',
    wildfires: 'Ø­Ø±Ø§Ø¦Ù‚ Ø§Ù„ØºØ§Ø¨Ø§Øª',
    floods: 'Ø§Ù„ÙÙŠØ¶Ø§Ù†Ø§Øª',
    cyclones: 'Ø§Ù„Ø£Ø¹Ø§ØµÙŠØ±',
    volcanoes: 'Ø§Ù„Ø¨Ø±Ø§ÙƒÙŠÙ†',
    droughts: 'Ø§Ù„Ø¬ÙØ§Ù',
    landslides: 'Ø§Ù„Ø§Ù†Ù‡ÙŠØ§Ø±Ø§Øª',
    tsunamis: 'ØªØ³ÙˆÙ†Ø§Ù…ÙŠ',
    spaceweather: 'Ø·Ù‚Ø³ Ø§Ù„ÙØ¶Ø§Ø¡',
    fires: 'Ù†Ù‚Ø§Ø· Ø­Ø±Ø§Ø±ÙŠØ©',
    weather: 'ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ø·Ù‚Ø³',
    critical: 'Ø­Ø±Ø¬',
    severe: 'Ø´Ø¯ÙŠØ¯',
    moderate: 'Ù…ØªÙˆØ³Ø·',
    minor: 'Ø·ÙÙŠÙ',
    active: 'Ù†Ø´Ø·',
    ended: 'Ø§Ù†ØªÙ‡Ù‰',
    contained: 'Ù…Ø­ØªÙˆÙ‰',
    activelyBurning: 'ÙŠØ­ØªØ±Ù‚',
    justContained: 'ØªÙ… Ø§Ø­ØªÙˆØ§Ø¤Ù‡ Ø­Ø¯ÙŠØ«Ø§Ù‹',
    totalEvents: 'Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø­Ø¯Ø§Ø«',
    activeEvents: 'Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù†Ø´Ø·Ø©',
    endedEvents: 'Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø§Ù„Ù…Ù†ØªÙ‡ÙŠØ©',
    mostAffected: 'Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø£ÙƒØ«Ø± ØªØ£Ø«Ø±Ø§Ù‹',
    severityDist: 'ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ø®Ø·ÙˆØ±Ø©',
    sourceHealth: 'Ø­Ø§Ù„Ø© Ø§Ù„Ù…ØµØ§Ø¯Ø±',
    liveFeed: 'Ø§Ù„Ø¨Ø« Ø§Ù„Ù…Ø¨Ø§Ø´Ø±',
    newEvents: 'Ø£Ø­Ø¯Ø§Ø« Ø¬Ø¯ÙŠØ¯Ø©',
    noEvents: '...ÙÙŠ Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø£Ø­Ø¯Ø§Ø«',
    viewDetails: 'Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„',
    magnitude: 'Ø§Ù„Ù‚ÙˆØ©',
    depth: 'Ø§Ù„Ø¹Ù…Ù‚',
    nearby: 'Ù‚Ø±ÙŠØ¨',
    kmAway: 'ÙƒÙ…',
    mapStyleTitle: 'Ù†Ù…Ø· Ø§Ù„Ø®Ø±ÙŠØ·Ø©',
    darkMode: 'Ø¯Ø§ÙƒÙ†',
    satellite: 'Ù‚Ù…Ø± ØµÙ†Ø§Ø¹ÙŠ',
    terrain: 'ØªØ¶Ø§Ø±ÙŠØ³',
    light: 'ÙØ§ØªØ­',
    language: 'Ø§Ù„Ù„ØºØ©',
    sound: 'Ø§Ù„ØµÙˆØª',
    alertsTitle: 'Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª ÙˆØ§Ù„Ø¥Ø´Ø¹Ø§Ø±Ø§Øª',
    browserNotifications: 'Ø¥Ø´Ø¹Ø§Ø±Ø§Øª Ø§Ù„Ù…ØªØµÙØ­',
    alertSounds: 'Ø£ØµÙˆØ§Øª Ø§Ù„ØªÙ†Ø¨ÙŠÙ‡',
    watchArea: 'Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©',
    clearWatchArea: 'Ù…Ø³Ø­ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©',
    noWatchArea: 'Ù„Ù… ÙŠØªÙ… ØªØ¹ÙŠÙŠÙ† Ù…Ù†Ø·Ù‚Ø©. Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ø¨Ø£Ø¯Ø§Ø© Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©.',
    emailDigest: 'Ù…Ù„Ø®Øµ Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯',
    emailDigestDesc: 'Ø§Ø­ØµÙ„ Ø¹Ù„Ù‰ Ù…Ù„Ø®Øµ Ø§Ù„Ø£Ø­Ø¯Ø§Ø« ÙÙŠ Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ù…Ø±Ø§Ù‚Ø¨Ø©.',
    saveEmail: 'Ø­ÙØ¸ Ø§Ù„Ø¨Ø±ÙŠØ¯',
    frequency: 'Ø§Ù„ØªÙƒØ±Ø§Ø±',
    off: 'Ø¥ÙŠÙ‚Ø§Ù',
    daily: 'ÙŠÙˆÙ…ÙŠ',
    weekly: 'Ø£Ø³Ø¨ÙˆØ¹ÙŠ',
    justNow: 'Ø§Ù„Ø¢Ù†',
    secondsAgo: 'Ù…Ù†Ø° {n}Ø«',
    minutesAgo: 'Ù…Ù†Ø° {n}Ø¯',
    hoursAgo: 'Ù…Ù†Ø° {n}Ø³',
    daysAgo: 'Ù…Ù†Ø° {n}ÙŠ',
    day: 'ÙŠÙˆÙ…',
  },

  zh: {
    loading: 'æ­£åœ¨åŠ è½½å®žæ—¶ç¾å®³æ•°æ®...',
    connected: 'å·²è¿žæŽ¥',
    disconnected: 'å·²æ–­å¼€',
    live: 'å®žæ—¶',
    offline: 'ç¦»çº¿',
    close: 'å…³é—­',
    back: 'è¿”å›ž',
    search: 'æœç´¢',
    share: 'åˆ†äº«',
    settings: 'è®¾ç½®',
    analytics: 'åˆ†æž',
    earthquakes: 'åœ°éœ‡',
    wildfires: 'é‡Žç«',
    floods: 'æ´ªæ°´',
    cyclones: 'æ°”æ—‹',
    volcanoes: 'ç«å±±',
    droughts: 'å¹²æ—±',
    landslides: 'å±±ä½“æ»‘å¡',
    tsunamis: 'æµ·å•¸',
    spaceweather: 'ç©ºé—´å¤©æ°”',
    fires: 'çƒ­ç‚¹',
    weather: 'å¤©æ°”é¢„è­¦',
    critical: 'ä¸¥é‡',
    severe: 'é‡å¤§',
    moderate: 'ä¸­ç­‰',
    minor: 'è½»å¾®',
    active: 'æ´»è·ƒ',
    ended: 'ç»“æŸ',
    contained: 'å—æŽ§',
    activelyBurning: 'æ­£åœ¨ç‡ƒçƒ§',
    justContained: 'åˆšåˆšå—æŽ§',
    totalEvents: 'äº‹ä»¶æ€»æ•°',
    activeEvents: 'æ´»è·ƒäº‹ä»¶',
    endedEvents: 'å·²ç»“æŸäº‹ä»¶',
    mostAffected: 'æœ€å—å½±å“åœ°åŒº',
    severityDist: 'ä¸¥é‡ç¨‹åº¦åˆ†å¸ƒ',
    sourceHealth: 'æ•°æ®æºçŠ¶æ€',
    liveFeed: 'å®žæ—¶åŠ¨æ€',
    newEvents: 'æ–°äº‹ä»¶',
    noEvents: 'ç­‰å¾…äº‹ä»¶...',
    viewDetails: 'æŸ¥çœ‹è¯¦æƒ…',
    magnitude: 'éœ‡çº§',
    depth: 'æ·±åº¦',
    nearby: 'é™„è¿‘',
    kmAway: 'å…¬é‡Œ',
    mapStyleTitle: 'åœ°å›¾æ ·å¼',
    darkMode: 'æš—è‰²',
    satellite: 'å«æ˜Ÿ',
    terrain: 'åœ°å½¢',
    light: 'äº®è‰²',
    language: 'è¯­è¨€',
    sound: 'å£°éŸ³',
    alertsTitle: 'è­¦æŠ¥å’Œé€šçŸ¥',
    browserNotifications: 'æµè§ˆå™¨é€šçŸ¥',
    alertSounds: 'è­¦æŠ¥å£°éŸ³',
    watchArea: 'ç›‘æŽ§åŒºåŸŸ',
    clearWatchArea: 'æ¸…é™¤åŒºåŸŸ',
    noWatchArea: 'æœªè®¾ç½®ç›‘æŽ§åŒºåŸŸã€‚ä½¿ç”¨ç›‘æŽ§å·¥å…·ç‚¹å‡»åœ°å›¾è®¾ç½®ã€‚',
    emailDigest: 'é‚®ä»¶æ‘˜è¦',
    emailDigestDesc: 'æŽ¥æ”¶ç›‘æŽ§åŒºåŸŸå†…äº‹ä»¶æ‘˜è¦ã€‚',
    saveEmail: 'ä¿å­˜é‚®ç®±',
    frequency: 'é¢‘çŽ‡',
    off: 'å…³é—­',
    daily: 'æ¯æ—¥',
    weekly: 'æ¯å‘¨',
    justNow: 'åˆšåˆš',
    secondsAgo: '{n}ç§’å‰',
    minutesAgo: '{n}åˆ†å‰',
    hoursAgo: '{n}å°æ—¶å‰',
    daysAgo: '{n}å¤©å‰',
    day: 'å¤©',
  },

  hi: {
    loading: 'à¤°à¤¿à¤¯à¤²-à¤Ÿà¤¾à¤‡à¤® à¤†à¤ªà¤¦à¤¾ à¤¡à¥‡à¤Ÿà¤¾ à¤²à¥‹à¤¡ à¤¹à¥‹ à¤°à¤¹à¤¾ à¤¹à¥ˆ...',
    connected: 'à¤•à¤¨à¥‡à¤•à¥à¤Ÿà¥‡à¤¡',
    disconnected: 'à¤¡à¤¿à¤¸à¥à¤•à¤¨à¥‡à¤•à¥à¤Ÿà¥‡à¤¡',
    live: 'à¤²à¤¾à¤‡à¤µ',
    offline: 'à¤‘à¤«à¤¼à¤²à¤¾à¤‡à¤¨',
    close: 'à¤¬à¤‚à¤¦ à¤•à¤°à¥‡à¤‚',
    back: 'à¤µà¤¾à¤ªà¤¸',
    search: 'à¤–à¥‹à¤œà¥‡à¤‚',
    share: 'à¤¶à¥‡à¤¯à¤°',
    settings: 'à¤¸à¥‡à¤Ÿà¤¿à¤‚à¤—à¥à¤¸',
    analytics: 'à¤µà¤¿à¤¶à¥à¤²à¥‡à¤·à¤£',
    earthquakes: 'à¤­à¥‚à¤•à¤‚à¤ª',
    wildfires: 'à¤œà¤‚à¤—à¤² à¤•à¥€ à¤†à¤—',
    floods: 'à¤¬à¤¾à¤¢à¤¼',
    cyclones: 'à¤šà¤•à¥à¤°à¤µà¤¾à¤¤',
    volcanoes: 'à¤œà¥à¤µà¤¾à¤²à¤¾à¤®à¥à¤–à¥€',
    droughts: 'à¤¸à¥‚à¤–à¤¾',
    landslides: 'à¤­à¥‚à¤¸à¥à¤–à¤²à¤¨',
    tsunamis: 'à¤¸à¥à¤¨à¤¾à¤®à¥€',
    spaceweather: 'à¤…à¤‚à¤¤à¤°à¤¿à¤•à¥à¤· à¤®à¥Œà¤¸à¤®',
    fires: 'à¤¹à¥‰à¤Ÿà¤¸à¥à¤ªà¥‰à¤Ÿ',
    weather: 'à¤®à¥Œà¤¸à¤® à¤šà¥‡à¤¤à¤¾à¤µà¤¨à¥€',
    critical: 'à¤—à¤‚à¤­à¥€à¤°',
    severe: 'à¤¤à¥€à¤µà¥à¤°',
    moderate: 'à¤®à¤§à¥à¤¯à¤®',
    minor: 'à¤®à¤¾à¤®à¥‚à¤²à¥€',
    active: 'à¤¸à¤•à¥à¤°à¤¿à¤¯',
    ended: 'à¤¸à¤®à¤¾à¤ªà¥à¤¤',
    contained: 'à¤¨à¤¿à¤¯à¤‚à¤¤à¥à¤°à¤¿à¤¤',
    activelyBurning: 'à¤œà¤² à¤°à¤¹à¤¾ à¤¹à¥ˆ',
    justContained: 'à¤…à¤­à¥€ à¤¨à¤¿à¤¯à¤‚à¤¤à¥à¤°à¤¿à¤¤',
    totalEvents: 'à¤•à¥à¤² à¤˜à¤Ÿà¤¨à¤¾à¤à¤‚',
    activeEvents: 'à¤¸à¤•à¥à¤°à¤¿à¤¯ à¤˜à¤Ÿà¤¨à¤¾à¤à¤‚',
    endedEvents: 'à¤¸à¤®à¤¾à¤ªà¥à¤¤ à¤˜à¤Ÿà¤¨à¤¾à¤à¤‚',
    mostAffected: 'à¤¸à¤¬à¤¸à¥‡ à¤ªà¥à¤°à¤­à¤¾à¤µà¤¿à¤¤ à¤•à¥à¤·à¥‡à¤¤à¥à¤°',
    severityDist: 'à¤—à¤‚à¤­à¥€à¤°à¤¤à¤¾ à¤µà¤¿à¤¤à¤°à¤£',
    sourceHealth: 'à¤¸à¥à¤°à¥‹à¤¤ à¤¸à¥à¤µà¤¾à¤¸à¥à¤¥à¥à¤¯',
    liveFeed: 'à¤²à¤¾à¤‡à¤µ à¤«à¥€à¤¡',
    newEvents: 'à¤¨à¤ˆ à¤˜à¤Ÿà¤¨à¤¾à¤à¤‚',
    noEvents: 'à¤˜à¤Ÿà¤¨à¤¾à¤“à¤‚ à¤•à¥€ à¤ªà¥à¤°à¤¤à¥€à¤•à¥à¤·à¤¾...',
    viewDetails: 'à¤µà¤¿à¤µà¤°à¤£ à¤¦à¥‡à¤–à¥‡à¤‚',
    magnitude: 'à¤¤à¥€à¤µà¥à¤°à¤¤à¤¾',
    depth: 'à¤—à¤¹à¤°à¤¾à¤ˆ',
    nearby: 'à¤ªà¤¾à¤¸',
    kmAway: 'à¤•à¤¿à¤®à¥€',
    mapStyleTitle: 'à¤®à¤¾à¤¨à¤šà¤¿à¤¤à¥à¤° à¤¶à¥ˆà¤²à¥€',
    darkMode: 'à¤¡à¤¾à¤°à¥à¤•',
    satellite: 'à¤¸à¥ˆà¤Ÿà¥‡à¤²à¤¾à¤‡à¤Ÿ',
    terrain: 'à¤­à¥‚à¤­à¤¾à¤—',
    light: 'à¤²à¤¾à¤‡à¤Ÿ',
    language: 'à¤­à¤¾à¤·à¤¾',
    sound: 'à¤§à¥à¤µà¤¨à¤¿',
    alertsTitle: 'à¤…à¤²à¤°à¥à¤Ÿ à¤”à¤° à¤¸à¥‚à¤šà¤¨à¤¾à¤à¤‚',
    browserNotifications: 'à¤¬à¥à¤°à¤¾à¤‰à¤œà¤¼à¤° à¤¸à¥‚à¤šà¤¨à¤¾à¤à¤‚',
    alertSounds: 'à¤…à¤²à¤°à¥à¤Ÿ à¤§à¥à¤µà¤¨à¤¿',
    watchArea: 'à¤¨à¤¿à¤—à¤°à¤¾à¤¨à¥€ à¤•à¥à¤·à¥‡à¤¤à¥à¤°',
    clearWatchArea: 'à¤•à¥à¤·à¥‡à¤¤à¥à¤° à¤¸à¤¾à¤«à¤¼ à¤•à¤°à¥‡à¤‚',
    noWatchArea: 'à¤•à¥‹à¤ˆ à¤¨à¤¿à¤—à¤°à¤¾à¤¨à¥€ à¤•à¥à¤·à¥‡à¤¤à¥à¤° à¤¸à¥‡à¤Ÿ à¤¨à¤¹à¥€à¤‚ à¤¹à¥ˆà¥¤ à¤¨à¤¿à¤—à¤°à¤¾à¤¨à¥€ à¤‰à¤ªà¤•à¤°à¤£ à¤¸à¥‡ à¤®à¤¾à¤¨à¤šà¤¿à¤¤à¥à¤° à¤ªà¤° à¤•à¥à¤²à¤¿à¤• à¤•à¤°à¥‡à¤‚à¥¤',
    emailDigest: 'à¤ˆà¤®à¥‡à¤² à¤¸à¤¾à¤°à¤¾à¤‚à¤¶',
    emailDigestDesc: 'à¤…à¤ªà¤¨à¥‡ à¤¨à¤¿à¤—à¤°à¤¾à¤¨à¥€ à¤•à¥à¤·à¥‡à¤¤à¥à¤° à¤®à¥‡à¤‚ à¤˜à¤Ÿà¤¨à¤¾à¤“à¤‚ à¤•à¤¾ à¤¸à¤¾à¤°à¤¾à¤‚à¤¶ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚à¥¤',
    saveEmail: 'à¤ˆà¤®à¥‡à¤² à¤¸à¤¹à¥‡à¤œà¥‡à¤‚',
    frequency: 'à¤†à¤µà¥ƒà¤¤à¥à¤¤à¤¿',
    off: 'à¤¬à¤‚à¤¦',
    daily: 'à¤¦à¥ˆà¤¨à¤¿à¤•',
    weekly: 'à¤¸à¤¾à¤ªà¥à¤¤à¤¾à¤¹à¤¿à¤•',
    justNow: 'à¤…à¤­à¥€',
    secondsAgo: '{n}à¤¸ à¤ªà¤¹à¤²à¥‡',
    minutesAgo: '{n}à¤®à¤¿ à¤ªà¤¹à¤²à¥‡',
    hoursAgo: '{n}à¤˜à¤‚ à¤ªà¤¹à¤²à¥‡',
    daysAgo: '{n}à¤¦à¤¿ à¤ªà¤¹à¤²à¥‡',
    day: 'à¤¦à¤¿à¤¨',
  }
};

// â”€â”€ React Context â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

const I18nContext = createContext({
  lang: 'en',
  t: (key) => key,
  timeAgo: (ts) => ''
});

export const I18nProvider = ({ language = 'en', children }) => {
  const strings = TRANSLATIONS[language] || TRANSLATIONS.en;
  const fallback = TRANSLATIONS.en;

  const t = useCallback((key, params = {}) => {
    let str = strings[key] || fallback[key] || key;
    Object.entries(params).forEach(([k, v]) => {
      str = str.replace(`{${k}}`, v);
    });
    return str;
  }, [strings, fallback]);

  const timeAgo = useCallback((ts) => {
    if (!ts) return '';
    const diff = Date.now() - new Date(ts).getTime();
    if (diff < 0) return t('justNow');
    const sec = Math.floor(diff / 1000);
    if (sec < 60) return t('secondsAgo', { n: sec });
    const min = Math.floor(sec / 60);
    if (min < 60) return t('minutesAgo', { n: min });
    const hr = Math.floor(min / 60);
    if (hr < 24) return t('hoursAgo', { n: hr });
    const d = Math.floor(hr / 24);
    return t('daysAgo', { n: d });
  }, [t]);

  const value = useMemo(() => ({
    lang: language,
    dir: LANGUAGES[language]?.dir || 'ltr',
    t,
    timeAgo
  }), [language, t, timeAgo]);

  return (
    <I18nContext.Provider value={value}>
      {children}
    </I18nContext.Provider>
  );
};

export const useTranslation = () => useContext(I18nContext);

export default I18nProvider;